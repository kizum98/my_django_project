{% extends "main_page.html" %}

{% block title %}
Список статей
{% endblock %}

{% block content %}


<h2>Список статей</h2>

<br>
<form action = "" >
    <input type="button" value="Добавить статью" onclick = "go_to_url('{% url 'articles:article_create' %}')">
</form>
<hr>
<h5>
    Поиск статей
</h5>

<form method="get" action=".">

    {{ form.cond }}
    <br>
    <input type="submit" value="Найти">
    <hr>

    <h5>
        <a href='?cond={{ form.cond.value }}&page={{ page.first_page_number }}'>Начало</a>
        {% if page.first_page_number < page.previous_page_number %}
            ...
        {% endif %}
        {% if page.first_page_number != page.num_page %}
            <a href='?cond={{ form.cond.value }}&page={{ page.previous_page_number }}'>{{ page.previous_page_number }}</a>
            ,
        {% endif %}
        {{ page.num_page }}
        {% if page.last_page_number != page.num_page %}
            ,
            <a href='?cond={{ form.cond.value }}&page={{ page.next_page_number }}'>{{ page.next_page_number }}</a>
        {% endif %}
        {% if page.last_page_number > page.next_page_number %}
            ...
        {% endif %}
        <a href='?cond={{ form.cond.value }}&page={{ page.last_page_number }}'>Конец</a>
    </h5>
    <h5>
        Страница {{ page.num_page }} из {{ page.last_page_number }}.
    </h5>
    <h5>
        {% if page.first_page_number != page.num_page %}
            <a href='?cond={{ form.cond.value }}&page={{ page.previous_page_number }}'>Предыдущая</a>
        {% endif %}
        {% if page.last_page_number != page.num_page %}
            <a href='?cond={{ form.cond.value }}&page={{ page.next_page_number }}'>Следующая</a>
        {% endif %}
    </h5>
    <hr>

</form>

{% for article in page %}
    <h4>Автор : {{article.user_name}} </h4>
    <i>Дата последней правки : {{article.date_send}}</i>
    <a href="{% url 'articles:article_view' article.id%}"><h2>{{article.title}}</h2> </a>
    <hr>
{% endfor %}


{% endblock %}